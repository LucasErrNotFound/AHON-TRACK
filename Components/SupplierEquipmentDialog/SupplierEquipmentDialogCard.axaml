<UserControl
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:shadui="clr-namespace:ShadUI;assembly=ShadUI"
    xmlns:converters="clr-namespace:AHON_TRACK.Converters"
    Width="1225"
    MaxHeight="780"
    mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
    xmlns:viewModel="using:AHON_TRACK.Components.ViewModels"
    x:DataType="viewModel:SupplierEquipmentDialogCardViewModel"
    x:Class="AHON_TRACK.Components.SupplierEquipmentDialog.SupplierEquipmentDialogCard">
    
    <Design.DataContext>
        <viewModel:SupplierEquipmentDialogCardViewModel />
    </Design.DataContext>
    
    <UserControl.Resources>
        <SolidColorBrush x:Key="MutedColor" Color="#2C2F36" Opacity="0.70" />
        <SolidColorBrush x:Key="FontForeground" Color="#2C2F36" />
        <SolidColorBrush x:Key="ForegroundColor" Color="#2C2F36" />

        <SolidColorBrush x:Key="PrimaryColor" Color="#2C2F36" />
        <SolidColorBrush x:Key="PrimaryColor75" Color="#2C2F36" Opacity="0.75" />
        <SolidColorBrush x:Key="PrimaryColor50" Color="#2C2F36" Opacity="0.50" />
        <SolidColorBrush x:Key="PrimaryColor10" Color="#2C2F36" Opacity="0.10" />

        <converters:DateOnlyToDateTimeConverter x:Key="DateOnlyToDateTimeConverter" />
    </UserControl.Resources>
    
    <Border
        Background="{DynamicResource BackgroundColor}"
        BorderBrush="{DynamicResource BorderColor}"
        BorderThickness="1"
        Padding="30">
        <ScrollViewer HorizontalScrollBarVisibility="Auto">
            <StackPanel Spacing="0" Margin="0,0,10,0">
                <TextBlock
                    Text="Add Equipment Supplier"
                    Foreground="{DynamicResource FontForeground}"
                    Classes="h4" />
                <TextBlock
                    Text="Register new supplier with their contact to maintain reliable supply management"
                    Classes="Muted" />
                <Grid ColumnDefinitions="Auto Auto" ColumnSpacing="23">
                    <shadui:Card Grid.Column="0" Margin="0,5,0,0" HorizontalAlignment="Left">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <Svg
                                    Width="26"
                                    Height="26"
                                    VerticalAlignment="Center"
                                    Path="avares://AHON_TRACK/Assets/EquipmentInventoryView/package-icon.svg" />
                                <TextBlock
                                    Text="Supplier Information"
                                    FontSize="15"
                                    VerticalAlignment="Center"
                                    Margin="10,0,0,0" />
                            </StackPanel>
                            <StackPanel Orientation="Vertical" Spacing="15">
                                <StackPanel HorizontalAlignment="Left">
                                    <TextBox
                                        Classes="Clearable"
                                        Width="280"
                                        shadui:ControlAssist.Label="Supplier Name"
                                        Watermark="e.g., San Miguel"
                                        Text="{CompiledBinding SupplierName, Mode=TwoWay}">
                                    </TextBox>
                                </StackPanel>
                                <StackPanel HorizontalAlignment="Left">
                                    <TextBox
                                        Classes="Clearable"
                                        Width="280"
                                        shadui:ControlAssist.Label="Contact Person"
                                        Watermark="e.g., Marc Torres"
                                        Text="{CompiledBinding ContactPerson, Mode=TwoWay}">
                                    </TextBox>
                                </StackPanel>
                                <StackPanel HorizontalAlignment="Left">
                                    <TextBox
                                        Classes="Clearable"
                                        Width="280"
                                        shadui:ControlAssist.Label="Email"
                                        Watermark="e.g., mardie.delacruz@yahoo.com"
                                        Text="{CompiledBinding Email, Mode=TwoWay}">
                                    </TextBox>
                                </StackPanel>
                                <StackPanel HorizontalAlignment="Left">
                                    <TextBox
                                        Classes="Clearable"
                                        Width="280"
                                        shadui:ControlAssist.Label="Phone"
                                        Watermark="e.g., 09182273847"
                                        Text="{CompiledBinding PhoneNumber, Mode=TwoWay}">
                                    </TextBox>
                                </StackPanel>
                                <StackPanel HorizontalAlignment="Left">
                                    <TextBox
                                        Classes="Clearable"
                                        Width="280"
                                        shadui:ControlAssist.Label="Supplier Address"
                                        Watermark="Garden Villas 3 Meteor St."
                                        Text="{CompiledBinding Address, Mode=TwoWay}">
                                    </TextBox>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </shadui:Card>
                    <shadui:Card Grid.Column="1" Margin="0,5,0,0" VerticalAlignment="Top" Height="460" HasShadow="True">
                        <StackPanel Orientation="Vertical" Margin="0,0,30,0">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                <Svg
                                    Width="26"
                                    Height="26"
                                    VerticalAlignment="Center"
                                    Path="avares://AHON_TRACK/Assets/EquipmentInventoryView/package-icon.svg" />
                                <TextBlock
                                    Text="Equipment Information"
                                    FontSize="15"
                                    VerticalAlignment="Center"
                                    Margin="10,0,0,0" />
                            </StackPanel>
                            
                            <ItemsControl ItemsSource="{CompiledBinding EquipmentItems}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate x:DataType="viewModel:EquipmentItems">
                                        <StackPanel Margin="0,0,0,20">
                                            <Grid RowDefinitions="* * *" RowSpacing="15">
                                                <StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="10">
                                                    <TextBox
                                                        shadui:ControlAssist.Label="Item ID"
                                                        Classes="Clearable"
                                                        Width="200"
                                                        Text="{CompiledBinding ItemId, Mode=TwoWay}"/>
                                                    <TextBox
                                                        shadui:ControlAssist.Label="Item Name"
                                                        Classes="Clearable"
                                                        Width="200"
                                                        Text="{CompiledBinding ItemName, Mode=TwoWay}"/>
                                                    <ComboBox
                                                        shadui:ControlAssist.Label="Unit of Measures"
                                                        Margin="0,-5,0,0"
                                                        Width="200"
                                                        ItemsSource="{CompiledBinding UnitList}"
                                                        SelectedItem="{CompiledBinding SelectedUnit, Mode=TwoWay}"/>
                                                </StackPanel>
                                                <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="10">
                                                    <TextBox
                                                        shadui:ControlAssist.Label="Batch Code"
                                                        Classes="Clearable"
                                                        Width="200"
                                                        Text="{CompiledBinding BatchCode, Mode=TwoWay}"/>
                                                    <ComboBox
                                                        shadui:ControlAssist.Label="Category"
                                                        Margin="0,-5,0,0"
                                                        Width="200"
                                                        ItemsSource="{CompiledBinding Category}"
                                                        SelectedItem="{CompiledBinding SelectedCategory, Mode=TwoWay}"/>
                                                    <NumericUpDown
                                                        shadui:ControlAssist.Label="Supplier's Price"
                                                        Classes="Clearable"
                                                        Width="200"
                                                        FormatString="N2"
                                                        ShowButtonSpinner="False"
                                                        Watermark="0.00"
                                                        Minimum="0.00"
                                                        Value="{CompiledBinding Price, Mode=TwoWay}">
                                                        <NumericUpDown.InnerLeftContent>
                                                            <TextBlock Margin="8,0,-8,0" Text="â‚±" />
                                                        </NumericUpDown.InnerLeftContent>
                                                    </NumericUpDown>
                                                    <Button
                                                        Margin="30,0,0,0"
                                                        Classes="Destructive"
                                                        VerticalAlignment="Bottom"
                                                        Command="{CompiledBinding $parent[ItemsControl].((viewModel:SupplierEquipmentDialogCardViewModel)DataContext).RemoveItemCommand}"
                                                        CommandParameter="{CompiledBinding}">
                                                        <Svg
                                                            Width="20"
                                                            Height="20"
                                                            Path="avares://AHON_TRACK/Assets/SupplierManagementView/cancel-icon2.svg" />
                                                    </Button>
                                                </StackPanel>
                                                <StackPanel Grid.Row="2" Orientation="Horizontal" Spacing="10">
                                                    <StackPanel Orientation="Vertical" Spacing="5" HorizontalAlignment="Left">
                                                        <TextBlock
                                                            Text="Warrant Expiry"
                                                            FontSize="14"
                                                            FontWeight="Medium"/>
                                                        <DatePicker
                                                            Height="40"
                                                            HorizontalAlignment="Left"
                                                            Width="350"
                                                            SelectedDate="{CompiledBinding WarrantExpiry, Mode=TwoWay}" />
                                                    </StackPanel>
                                                    <ComboBox
                                                        shadui:ControlAssist.Label="Condition"
                                                        Width="200"
                                                        ItemsSource="{CompiledBinding ConditionList}"
                                                        SelectedItem="{CompiledBinding SelectedCondition, Mode=TwoWay}"/>
                                                </StackPanel>
                                            </Grid>
                                            <Separator Margin="0,20" Height="2"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </shadui:Card>
                </Grid>
                <StackPanel
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,40,0,0"
                    Spacing="20">
                    <Button
                        Classes="Destructive"
                        Content="Cancel"
                        Command="{CompiledBinding CancelCommand}">
                    </Button>
                    <Button
                        Classes="Secondary"
                        Content="Add Item"
                        Command="{CompiledBinding AddItemCommand}">
                    </Button>
                    <Button
                        Classes="Primary"
                        Command="{CompiledBinding AddSupplierCommand}"
                        IsEnabled="{CompiledBinding CanSaveSupplier}">
                        <StackPanel Orientation="Horizontal">
                            <Svg
                                Width="20"
                                Height="20"
                                VerticalAlignment="Center"
                                Margin="0,0,8,0"
                                Path="avares://AHON_TRACK/Assets/EquipmentInventoryView/plus-icon.svg" />
                            <TextBlock Text="Save Item" VerticalAlignment="Center" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Border>
</UserControl>